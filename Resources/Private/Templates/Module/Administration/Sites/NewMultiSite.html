{namespace neos=TYPO3\Neos\ViewHelpers}
<f:layout name="BackendSubModule" />

<f:section name="content">
	<h2>{neos:backend.translate(id: 'sites.newMulti', value: 'New multiSite')}</h2>
	<f:form action="createMultiSite">

		<div class="neos-row-fluid">

			<fieldset class="neos-span5">
				<legend>{neos:backend.translate(id: 'sites.selectPackage', value: 'Select site package')}</legend>
				<f:if condition="{sitePackages -> f:count()} > 0">
					<f:then>
						<div class="neos-control-group">
							<label class="neos-control-label" for="site">{neos:backend.translate(id: 'sites.select', value: 'Choose the site package the new multiSite should belong to')}</label>
							<div class="neos-controls neos-select">
								<f:form.select name="packageKey" options="{sitePackages}" optionLabelField="packageKey" optionValueField="packageKey" id="site" class="neos-span12" />
							</div>
						</div>
					</f:then>
					<f:else>
						<p>{neos:backend.translate(id: 'sites.noPackackeInfo', value: 'No site packages are available. Make sure you have an active site package.')}
						</p>
					</f:else>
				</f:if>
			</fieldset>
			<fieldset class="neos-span5 neos-offset1">
				<legend>{neos:backend.translate(id: 'sites.defineName', value: 'Define site name')}</legend>
				<div class="neos-control-group{f:validation.ifHasErrors(for: 'siteName', then: ' neos-error')}">
					<label class="neos-control-label" for="site-name">{neos:backend.translate(id: 'sites.name', value: 'Site name')}</label>
					<div class="neos-controls">
						<f:form.textfield name="siteName" value="{siteName}" id="site-name" />
						<f:render partial="Module/Shared/FieldValidationResults" arguments="{fieldname: 'siteName'}"/>
					</div>
				</div>
				<legend>{neos:backend.translate(id: 'sites.selectBasedomain', value: 'Select base domain')}</legend>
				<div class="neos-control-group{f:validation.ifHasErrors(for: 'siteName', then: ' neos-error')}">
					<label class="neos-control-label" for="site-name">{neos:backend.translate(id: 'sites.name', value: 'Site name')}</label>
					<div class="neos-controls">
						<f:form.textfield name="siteName" value="{siteName}" id="site-name" />
						<f:render partial="Module/Shared/FieldValidationResults" arguments="{fieldname: 'siteName'}"/>
					</div>
				</div>
			</fieldset>
		</div>
		<div class="neos-footer">
			<f:link.action action="index" class="neos-button">{neos:backend.translate(id: 'cancel', value: 'Cancel')}</f:link.action>
			<f:form.submit value="{neos:backend.translate(id: 'sites.createMulti', value: 'Create MultiSite')}" class="neos-button neos-button-primary" />
		</div>
	</f:form>
</f:section>
